<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Code Mirror Test</title>

  <script src="/bower_components/codemirror/lib/codemirror.js"></script>
  <script src="/bower_components/codemirror/mode/javascript/javascript.js"></script>
  <link rel="stylesheet" href="/bower_components/codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="/bower_components/codemirror/theme/xq-light.css">
  
  <style type="text/css">
    body {
      margin: 20px;
    }
    #editor-container {
      border: thin dashed black;
      font-size: 1em;
    }
  </style>

</head>
<body>
<div id="editor-container">
<textarea id="code"></textarea>
</div>
<button id="myButton">get value</button>

<script>
var myCodeMirror = CodeMirror
  .fromTextArea(document.getElementById('code'), {
  mode:  "javascript",
  styleActiveLine: true,
  matchBrackets: true,
  indentUnit: 2,
  smartIndent: true,
  tabSize: 2,
  indentWithTabs: false,
  lineNumbers: true,
  theme: 'default'
});

document.getElementById('myButton').onclick = function() {
  console.log(myCodeMirror.getValue());
}
</script>
</body>
</html>